pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

--score
score=0

--lives
lives=3

--triggers
tr1=0
tr2=0

function movepaddle()
	if btn(0) then
		padx-=3
	elseif btn(1) then
		padx+=3
	end
end			

function moveball()
	ballx+=ballxdir
	bally+=ballydir
end

function losedeadball()
 if bally>128 then
 	if lives>1 then
	 	sfx(2)
 		bally=24
 		lives-=1
 	else
 	 ballydir=0
 	 ballxdir=0
 	 bally=64
 	 tr1=1 	 
 	end
 end
end

function bounceball()
--left
	if ballx<ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end

--right
	if ballx>128-ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end

--top
	if bally<ballsize then
		ballydir=-ballydir
		sfx(0)
	end
end

function bouncepaddle()
	if ballx>=padx and
		ballx<=padx+padw and
		bally>pady then
	sfx(1)
	score+=10
	ballydir=-ballydir
	end
end

function restart()
	if tr1==1 then
		if btn(4) then
-- paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

--score
score=0

--lives
lives=3

--triggers
tr1=0
tr2=0
		end	
	end
end

function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
 restart()
end

function _draw()
--clear the screen
rectfill(0,0,128,128,7)

--draw the lives
for i=1, lives do
 spr(004,90+i*8,4)
end

--draw the score
print(score,12,6,12)

--draw the paddle
rectfill(padx,pady,padx+padw,pady+padh,12)

--draw the ball
circfill(ballx,bally,ballsize,12)

--draw the game over
if tr1==1 then
print ("game over :(",12,30,12)
end

--draw the restart minimenu
if tr1==1 then
print ("press z to restart",12,40,12)
end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c0c00c0c0000000000000000088088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700c0c00c0c0000000000000000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000c0c00c0c0000000000000000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000c0000c00000000000000000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000c0cc0c00000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000cccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100003105000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000200003705000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100002005000000131500b15010150171502205022050220500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0005000034100250003c300250002a400301003b3003000030100371003f200162003a30023000220001410035200363001e0002b4001d0001c1002a100353002b0002b0003b1003910036300000000000000000
001000002000000000191001b1001d1001f100280000000031200352003c200300003000031000281003920039200382003820015300131001310013100143002c6002d600306002640017300000000000000000
__music__
00 03424344
00 03424344
00 03424344
00 03424344
00 03424344

